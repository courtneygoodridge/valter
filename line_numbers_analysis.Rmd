---
title: "lie_numbers_analysis"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load packages}
library(ggplot2)
library(dplyr)
library(car)
library(MASS)
library(dplyr)
library(EnvStats)
library(lme4)
library(nlme)
library(tidyr)
library(rstanarm)
library(bayesplot)
library(loo)
library(lmtest)
library(caret)
library(merTools)
library(scales)
library(fitdistrplus)
library(readxl)

```

```{r data upload} 
# rm(list = ls())

# load control data
# set working directory on personal laptop
setwd("C:/Users/Courtney/Documents/PhD/Valter")
temp = list.files(pattern = c("ValterDataControl")) # list all CSV files in the directory
myfiles = lapply(temp, read.csv) # read these CSV in the directory
controldata<- do.call(rbind.data.frame, myfiles) # convert and combine the CSV files into dataframe

# load experiment data
temp = list.files(pattern = c("ValterDataExp")) # list all CSV files in the directory
myfiles = lapply(temp, read.csv) # read these CSV in the directory
expdata<- do.call(rbind.data.frame, myfiles) # convert and combine the CSV files into dataframe

```

**Experiment description**

Participants are told that they are hackers that have stolen codes. The police want to crack the code but participants have to communicate codes to their lawyers without being caught.

**Control condition** 

Participants shown just picture of the lawyers and a number. Participants have to respond with equivalent number (odd or even). 

**Experimental condition**

In the lie condition, sometimes the picture was the lawyer and other times it was the cop. When it was the cop, they had to lie (i.e. they had to repond with the opposite key. If the number was odd they had to respond as if it was even). 

In this lie condition, there are trials where the participant has to answer truthfully and also has to lie. 

```{r data cleaning}

# cleaning and renaming control condition
controldata <- controldata %>%
  dplyr::select(numbers, condition, key, accuracy, RTs, participant) %>%
  arrange(participant) %>%
  mutate(condition = "controltrue")

# cleaning experimental conditon
expdata <- expdata %>%
  dplyr::select(numbers, condition, key, accuracy, RTs, participant) %>%
  arrange(participant)

# renaming experimental true trials
exptrue <- expdata %>%
  dplyr::filter(condition == "t") %>%
  mutate(condition = "exptrue")

# renaming experimental lie trials

explie <- expdata %>%
  dplyr::filter(condition == "l") %>%
  mutate(condition = "explie")

workingdata <- rbind(controldata, exptrue, explie)

rm(controldata, expdata, explie, exptrue)

```

**Understanding column names and data types**

Key: a = left key, g = right key 

Accuracy: 1 = correct, 0 = incorrect

Condition: controltrue = control condition (truth), exptrue = exp truth condition, explie = exp lie condition

In the **control condition**, they had a standard SNARC with context of being in court

In **experimental conditon** 2/3 trials were true (standard SNARC) whereas the 1/3 of trials participants had to lie.

```{r condition overview}

controldata




```
